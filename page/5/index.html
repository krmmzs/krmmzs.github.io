<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="233">
<meta property="og:type" content="website">
<meta property="og:title" content="krmmzs">
<meta property="og:url" content="http://example.com/page/5/index.html">
<meta property="og:site_name" content="krmmzs">
<meta property="og:description" content="233">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="krmmzs">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/page/5/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>krmmzs</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">krmmzs</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">blog</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/10/24/Telegram/Telegram-webm-to-gif/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="krmmzs">
      <meta itemprop="description" content="233">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="krmmzs">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/10/24/Telegram/Telegram-webm-to-gif/" class="post-title-link" itemprop="url">Telegram webm to gif</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2022-10-24 18:12:39 / Modified: 20:01:58" itemprop="dateCreated datePublished" datetime="2022-10-24T18:12:39+08:00">2022-10-24</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Anime/" itemprop="url" rel="index"><span itemprop="name">Anime</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Anime/FFmpeg/" itemprop="url" rel="index"><span itemprop="name">FFmpeg</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="telegram-webm-to-gif">Telegram webm to gif</h1>
<h2 id="download-webm">1. Download webm</h2>
<p><a target="_blank" rel="noopener" href="https://t.me/DownloadStickersBot">https://t.me/DownloadStickersBot</a></p>
<p>这个机器人可以下载 Telegram 的 sticker.</p>
<p>简介： Download your favourite stickers in jpg,png,webp formats or whole pack as zip file.</p>
<p>然后就会把zip发送到你的电脑上，解压后就是webm文件。</p>
<h2 id="convert-webm-to-gif">2. Convert webm to gif</h2>
<p>文件：webmToGif.sh <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> *.webm; <span class="keyword">do</span></span><br><span class="line">    ffmpeg -i <span class="string">&quot;<span class="variable">$i</span>&quot;</span> -pix_fmt rgb24 <span class="string">&quot;<span class="variable">$&#123;i%.webm&#125;</span>.gif&quot;</span>; </span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure></p>
<p>将webmToGif.sh放到webm文件夹下，然后执行</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">chmod</span> +x webmToGif.sh</span><br><span class="line">./webmToGif.sh</span><br></pre></td></tr></table></figure>
<p>就会把webm文件夹下的所有webm文件转换为gif文件。</p>
<h2 id="reduce-gif-size">3. reduce gif size</h2>
<p>文件：reduceGifSize.sh <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> *.gif; <span class="keyword">do</span></span><br><span class="line">    gifsicle -optimize=3 <span class="string">&quot;<span class="variable">$i</span>&quot;</span> -o <span class="string">&quot;<span class="variable">$&#123;i%.gif&#125;</span>_reduced.gif&quot;</span>;</span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure></p>
<p>在同一个目录下执行 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">chmod</span> +x reduceGifSize.sh</span><br><span class="line">./reduceGifSize.sh</span><br></pre></td></tr></table></figure></p>
<h2 id="reference">Reference</h2>
<p><a target="_blank" rel="noopener" href="https://askubuntu.com/questions/506670/how-to-do-i-convert-an-webm-video-to-a-animated-gif-on-the-command-line">Ubuntu ask How to do I convert a webm(video) to a (animated) gif on the command line?</a></p>
<p><a target="_blank" rel="noopener" href="https://www.ffmpeg.org/doxygen/3.3/group__lavc__misc__pixfmt.html">FFmpeg Pixel formats</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/kohler/gifsicle">gifsicle</a></p>
<p><a target="_blank" rel="noopener" href="https://gist.github.com/Potherca/18423260e2c9a4324c9ecb0c0a284066">Potherca/README.md</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/10/24/Cpp/Effctive-Cpp/Effective-Cpp-00Intro/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="krmmzs">
      <meta itemprop="description" content="233">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="krmmzs">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/10/24/Cpp/Effctive-Cpp/Effective-Cpp-00Intro/" class="post-title-link" itemprop="url">Effective Cpp 00 Intro</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-10-24 08:58:31" itemprop="dateCreated datePublished" datetime="2022-10-24T08:58:31+08:00">2022-10-24</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-10-25 12:07:36" itemprop="dateModified" datetime="2022-10-25T12:07:36+08:00">2022-10-25</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Cpp/" itemprop="url" rel="index"><span itemprop="name">Cpp</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Cpp/Effective-cpp/" itemprop="url" rel="index"><span itemprop="name">Effective cpp</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="effective-cpp-00-introduction">Effective cpp 00 Introduction</h1>
<h2 id="introduction">Introduction</h2>
<h3 id="terminology">Terminology</h3>
<h3 id="signature-differences-when-read-this-book">signature differences when read this book</h3>
<p>每个函数的声明揭示其签名式(signature)，也就是参数和返回类型。一个函数 的签名等同于该函数的类型。</p>
<p><strong>Sometimes signature includes the return type, sometimes it doesn't.</strong></p>
<p>More see <a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/290038/is-the-return-type-part-of-the-function-signature">Is the return type part of the function signature?</a></p>
<p>C++对签名式的官方定义并不包括函数的返回类型，不过本书把返回类型视为签名的一部分，这样比较有帮助。</p>
<h3 id="keyword-explicit">keyword <code>explicit</code></h3>
<p>explicit关键字只能用于构造函数的声明中，用于阻止隐式转换。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">B</span>&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">explicit</span> <span class="title">B</span><span class="params">(<span class="type">int</span> x = <span class="number">0</span>, <span class="type">bool</span> b = <span class="literal">true</span>)</span></span>; <span class="comment">// default constructor;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">C</span>&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">explicit</span> <span class="title">C</span><span class="params">(<span class="type">int</span> x)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>The constructors for classes B and C are declared explicit here. That prevents them from being used to perform implicit type conversions, though they may still be used for explicit type conversions</p>
<p>More see <a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/121162/what-does-the-explicit-keyword-mean">What does the explicit keyword mean?</a></p>
<h3 id="the-syntax-can-also-be-used-to-call-the-copy-constructor">the “=” syntax can also be used to call the copy constructor</h3>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Widget w3 = w2;</span><br></pre></td></tr></table></figure>
<p>Fortunately, copy construction is easy to distinguish from copy as- signment. If a new object is being defined (such as w3 in the statement above), a constructor has to be called; it can’t be an assignment. If no new object is being defined (such as in the “w1= w2” statement above), no constructor can be involved, so it’s an assignment.</p>
<p>The copy constructor is a particularly important function, because it defines how an object is passed by value. For example, consider this:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">bool</span> <span class="title">asAcceptableQuality</span><span class="params">(Widget w)</span></span>;</span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line">Widget aWidge;</span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">hasAcceptableQuality</span>(aWidget))</span><br><span class="line">    <span class="comment">// ...</span></span><br></pre></td></tr></table></figure>
<p>The parameter w is passed to hasAcceptableQuality by value, so in the call above, aWidget is copied into w. The copying is done by Widget’s copy constructor.</p>
<h3 id="function-objects">function objects</h3>
<p>objects that act like function.</p>
<p>STL</p>
<h3 id="undefined-behavior">undefined behavior</h3>
<p>The C++ standard doesn’t define what happens when you do something</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> *p = <span class="number">0</span>; <span class="comment">// p is a null pointer</span></span><br><span class="line">std::cout &lt;&lt; *p; <span class="comment">// dereference a null pointer</span></span><br><span class="line">                 <span class="comment">// yields undefined behavior</span></span><br><span class="line"></span><br><span class="line"><span class="type">char</span> name[] = <span class="string">&quot;Darla&quot;</span>; <span class="comment">// name is an array of size 6(don&#x27;t for get the trailing null!)</span></span><br><span class="line">                       <span class="comment">// yields undefined behavior</span></span><br></pre></td></tr></table></figure>
<h3 id="cpp-without-interfacelanguage-element">Cpp without interface(language element)</h3>
<p>when talking about interfaces in cpp as a fairly general de-sign idea.</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/10/24/English/cszh-en-table/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="krmmzs">
      <meta itemprop="description" content="233">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="krmmzs">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/10/24/English/cszh-en-table/" class="post-title-link" itemprop="url">cszh-en table</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2022-10-24 08:28:37 / Modified: 08:30:48" itemprop="dateCreated datePublished" datetime="2022-10-24T08:28:37+08:00">2022-10-24</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/English/" itemprop="url" rel="index"><span itemprop="name">English</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><img src="../images/csen-zh01.png" alt="csen-zh01" style="zoom:70%;" /> <img src="../images/csen-zh02.png" alt="csen-zh02" style="zoom:70%;" /> <img src="../images/csen-zh03.png" alt="csen-zh03" style="zoom:70%;" /> <img src="../images/csen-zh04.png" alt="csen-zh04" style="zoom:70%;" /> <img src="../images/csen-zh05.png" alt="csen-zh05" style="zoom:70%;" /> <img src="../images/csen-zh06.png" alt="csen-zh06" style="zoom:70%;" /></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/10/23/Anime/ffmpeg-crop-anime-Bocchi-the-Rock-record/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="krmmzs">
      <meta itemprop="description" content="233">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="krmmzs">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/10/23/Anime/ffmpeg-crop-anime-Bocchi-the-Rock-record/" class="post-title-link" itemprop="url">ffmpeg crop anime Bocchi the Rock record</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-10-23 16:40:16" itemprop="dateCreated datePublished" datetime="2022-10-23T16:40:16+08:00">2022-10-23</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-10-29 15:40:45" itemprop="dateModified" datetime="2022-10-29T15:40:45+08:00">2022-10-29</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Anime/" itemprop="url" rel="index"><span itemprop="name">Anime</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Anime/FFmpeg/" itemprop="url" rel="index"><span itemprop="name">FFmpeg</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="ffmpeg-crop-anime-bocchi-the-rock-record">ffmpeg crop anime Bocchi the Rock record</h1>
<p>Bocchi the Rock实在是太好看了，想裁一些片段玩。</p>
<h2 id="record">Record</h2>
<p>还没写脚本，所以操作有点笨拙。</p>
<p>先是产生缩略图 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -i 2.mp4 -vf <span class="string">&quot;fps=1/10,scale=-2:720&quot;</span> thumbnail-%03d.jpg</span><br></pre></td></tr></table></figure></p>
<p>直接就是创个interaction.md 写下要裁剪的区间 然后在这个文本里把命令编辑好到目录下执行 在文本里编辑命令的好处是，记录下产生视频的命令, 起到log的作用。</p>
<p><img src="/images/ffmpeg_bocci_the_rock-01.png" alt="ffmpeg_bocci_the_rock-01" style="zoom:70%;" /></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -ss 00:14:44 -t 40 -i 2.mp4 -vcodec copy -acodec copy 02.mp4</span><br></pre></td></tr></table></figure>
<p>目录下是这些</p>
<p><img src="/images/ffmpeg_bocci_the_rock-02.png" alt="ffmpeg_bocci_the_rock-02" style="zoom:70%;" /></p>
<p>然后发现了个bug: 起始位置ubuntu22默认视频player黑屏，mpv打开会从-1s开始播放, 估计是关键字没卡上。。</p>
<h2 id="fix">Fix</h2>
<p>ffmepg剪切视频，很方便，但是也有很大缺陷： （1）剪切时间点不精确 （2）有时剪切的视频开头有黑屏</p>
<p>造成这些问题的原因是ffmpeg无法seek到非关键帧上。</p>
<p>上述的剪切方式比较基本</p>
<h3 id="parameter-optimization">Parameter optimization</h3>
<ul>
<li>将-ss， -t 参数放在-i参数之前(已经这么做了)</li>
</ul>
<p>对输入文件执行seek操作，会seek到-ss设置的时间点前面的关键帧上。</p>
<p>时间不精确，但是不会出现黑屏(然而ubuntu的视频播放器还是黑屏)</p>
<ul>
<li>accurate_seek</li>
</ul>
<p>如果编码格式采用的copy 最好加上 -avoid_negative_ts 1参数</p>
<h3 id="final-command">Final command</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -ss 00:14:44 -t 40 -i 2.mp4 -vcodec copy -acodec copy -avoid_negative_ts 1 02.mp4</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/10/23/Anime/FFmpeg/ffmpeg-crop-anime-Bocchi-the-Rock-record/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="krmmzs">
      <meta itemprop="description" content="233">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="krmmzs">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/10/23/Anime/FFmpeg/ffmpeg-crop-anime-Bocchi-the-Rock-record/" class="post-title-link" itemprop="url">ffmpeg crop anime Bocchi the Rock record</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-10-23 16:40:16" itemprop="dateCreated datePublished" datetime="2022-10-23T16:40:16+08:00">2022-10-23</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-10-24 18:11:00" itemprop="dateModified" datetime="2022-10-24T18:11:00+08:00">2022-10-24</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Anime/" itemprop="url" rel="index"><span itemprop="name">Anime</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Anime/FFmpeg/" itemprop="url" rel="index"><span itemprop="name">FFmpeg</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="ffmpeg-crop-anime-bocchi-the-rock-record">ffmpeg crop anime Bocchi the Rock record</h1>
<p>Bocchi the Rock实在是太好看了，想裁一些片段玩。</p>
<h2 id="record">Record</h2>
<p>还没写脚本，所以操作有点笨拙。</p>
<p>先是产生缩略图 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -i 2.mp4 -vf <span class="string">&quot;fps=1/10,scale=-2:720&quot;</span> thumbnail-%03d.jpg</span><br></pre></td></tr></table></figure></p>
<p>直接就是创个interaction.md 写下要裁剪的区间 然后在这个文本里把命令编辑好到目录下执行 在文本里编辑命令的好处是，记录下产生视频的命令, 起到log的作用。</p>
<p><img src="/images/ffmpeg_bocci_the_rock-01.png" alt="ffmpeg_bocci_the_rock-01" style="zoom:70%;" /></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -ss 00:14:44 -t 40 -i 2.mp4 -vcodec copy -acodec copy 02.mp4</span><br></pre></td></tr></table></figure>
<p>目录下是这些</p>
<p><img src="/images/ffmpeg_bocci_the_rock-02.png" alt="ffmpeg_bocci_the_rock-02" style="zoom:70%;" /></p>
<p>然后发现了个bug: 起始位置ubuntu22默认视频player黑屏，mpv打开会从-1s开始播放, 估计是关键字没卡上。。</p>
<h2 id="fix">Fix</h2>
<p>ffmepg剪切视频，很方便，但是也有很大缺陷： （1）剪切时间点不精确 （2）有时剪切的视频开头有黑屏</p>
<p>造成这些问题的原因是ffmpeg无法seek到非关键帧上。</p>
<p>上述的剪切方式比较基本</p>
<h3 id="parameter-optimization">Parameter optimization</h3>
<ul>
<li>将-ss， -t 参数放在-i参数之前(已经这么做了)</li>
</ul>
<p>对输入文件执行seek操作，会seek到-ss设置的时间点前面的关键帧上。</p>
<p>时间不精确，但是不会出现黑屏(然而ubuntu的视频播放器还是黑屏)</p>
<ul>
<li>accurate_seek</li>
</ul>
<p>如果编码格式采用的copy 最好加上 -avoid_negative_ts 1参数</p>
<h3 id="final-command">Final command</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -ss 00:14:44 -t 40 -i 2.mp4 -vcodec copy -acodec copy -avoid_negative_ts 1 02.mp4</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/10/23/Linux/Shell/Downloading-a-video-from-the-Internet/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="krmmzs">
      <meta itemprop="description" content="233">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="krmmzs">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/10/23/Linux/Shell/Downloading-a-video-from-the-Internet/" class="post-title-link" itemprop="url">Downloading_a_video_from_the_Internet</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2022-10-23 02:49:12 / Modified: 03:03:50" itemprop="dateCreated datePublished" datetime="2022-10-23T02:49:12+08:00">2022-10-23</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Shell/" itemprop="url" rel="index"><span itemprop="name">Shell</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Shell/CLI/" itemprop="url" rel="index"><span itemprop="name">CLI</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="downloading-a-video-from-the-internet">Downloading a video from the Internet</h1>
<p>最近突然对shell的使用有了兴趣, 平常一些小操作有积累。 这次选了一本一位印度人在20岁写的shell书。</p>
<p>闲暇时间看到1.16之后就乏了（本身不是那种原理书，而是一本实用书），就想着写点东西，顺便练练手。</p>
<p>翻目录，发现了一个下载视频的内容。 他介绍的是有一个叫作youtube-dl的视频下载工具 可惜现在这工具被针对了，速度堪忧。</p>
<p>替换工具： <a target="_blank" rel="noopener" href="https://github.com/yt-dlp/yt-dlp">yt-dlp</a></p>
<p>两者原理都差不多， 通过向服务器发出GET请求（就像浏览器一样）来实现视频下载。 它会伪装成浏览器，使得YouTube或其他视频提供商以为这是一台流媒体设备，从而下载到视频。</p>
<p>然后我在rc文件加了些alias，方便使用。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">alias</span> dvF=<span class="string">&#x27;yt-dlp -F&#x27;</span></span><br><span class="line"><span class="built_in">alias</span> dvf=<span class="string">&#x27;yt-dlp -f&#x27;</span></span><br><span class="line"><span class="built_in">alias</span> dvmp4=<span class="string">&#x27;yt-dlp -f &quot;bestvideo[ext=mp4]+bestaudio[ext=m4a]&quot; --merge-output-format mp4&#x27;</span></span><br><span class="line"><span class="built_in">alias</span> dvmkv=<span class="string">&#x27;yt-dlp -f &quot;bestvideo[ext=mkv]+bestaudio[ext=webm]&quot; --merge-output-format mkv&#x27;</span></span><br></pre></td></tr></table></figure>
<p>dv是download video的缩写，F是-list-formats，f是format的缩写，分别可选mp4，mkv。</p>
<p>更多见<a target="_blank" rel="noopener" href="https://github.com/yt-dlp/yt-dlp#usage-and-options">USAGE AND OPTIONS</a></p>
<p>Example:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dvmp4 https://www.youtube.com/watch?v=Yd8YGqFdZn8</span><br></pre></td></tr></table></figure>
<p>show <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[youtube] Yd8YGqFdZn8: Downloading webpage</span><br><span class="line">[youtube] Yd8YGqFdZn8: Downloading android player API JSON</span><br><span class="line">[info] Yd8YGqFdZn8: Downloading 1 format(s): 136+140</span><br><span class="line">[download] Destination: 増えていく『さかな』『ちんあなご』 [Yd8YGqFdZn8].f136.mp4</span><br><span class="line">[download] 100% of    5.15MiB <span class="keyword">in</span> 00:00:02 at 1.82MiB/s</span><br><span class="line">[download] Destination: 増えていく『さかな』『ちんあなご』 [Yd8YGqFdZn8].f140.m4a</span><br><span class="line">[download] 100% of  523.91KiB <span class="keyword">in</span> 00:00:00 at 624.42KiB/s</span><br><span class="line">[Merger] Merging formats into <span class="string">&quot;増えていく『さかな』『ちんあなご』 [Yd8YGqFdZn8].mp4&quot;</span></span><br><span class="line">Deleting original file 増えていく『さかな』『ちんあなご』 [Yd8YGqFdZn8].f140.m4a (pass -k to keep)</span><br><span class="line">Deleting original file 増えていく『さかな』『ちんあなご』 [Yd8YGqFdZn8].f136.mp4 (pass -k to keep)</span><br></pre></td></tr></table></figure></p>
<p>目录下就有以该视频标题为文件名的mp4文件了。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/10/22/Cpp/Accelerated-Cpp/Accelerated-Cpp-chapter06/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="krmmzs">
      <meta itemprop="description" content="233">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="krmmzs">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/10/22/Cpp/Accelerated-Cpp/Accelerated-Cpp-chapter06/" class="post-title-link" itemprop="url">Accelerated_Cpp_chapter06</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-10-22 19:48:48" itemprop="dateCreated datePublished" datetime="2022-10-22T19:48:48+08:00">2022-10-22</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-10-25 19:07:35" itemprop="dateModified" datetime="2022-10-25T19:07:35+08:00">2022-10-25</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Cpp/" itemprop="url" rel="index"><span itemprop="name">Cpp</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Cpp/Accelerated-Cpp/" itemprop="url" rel="index"><span itemprop="name">Accelerated Cpp</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="chapter-06-using-library-algorithms">chapter 06 Using library algorithms</h1>
<h2 id="overview">Overview</h2>
<h2 id="the-reason-for-back_inserter-design">The reason for back_inserter design</h2>
<p>Why is <strong>copy</strong> designed this way? Because separating the notions of copying elements and expanding a container allows programmers to choose which operations to use. For example, we might want to copy elements on top of elements that already exist in a container, without changing the container's size. As another example, which we shall see in §6.2.2/112, we might want to use <strong>back_inserter</strong> to append elements to a container that are not merely copies of another container's elements.</p>
<h2 id="split-with-iterators-and-algorithms-functions">split with iterators and algorithms functions</h2>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">bool</span> <span class="title">space</span><span class="params">(<span class="type">char</span> c)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="built_in">isspace</span>(c);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// `false&#x27; if the argument is whitespace, `true&#x27; otherwise</span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">not_space</span><span class="params">(<span class="type">char</span> c)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">return</span> !<span class="built_in">isspace</span>(c);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">vector&lt;string&gt; <span class="title">split</span><span class="params">(<span class="type">const</span> string&amp; str)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">typedef</span> string::const_iterator iter;</span><br><span class="line">	vector&lt;string&gt; ret;</span><br><span class="line"></span><br><span class="line">	iter i = str.<span class="built_in">begin</span>();</span><br><span class="line">	<span class="keyword">while</span> (i != str.<span class="built_in">end</span>()) &#123;</span><br><span class="line"></span><br><span class="line">		<span class="comment">// ignore leading blanks</span></span><br><span class="line">		i = <span class="built_in">find_if</span>(i, str.<span class="built_in">end</span>(), not_space);</span><br><span class="line"></span><br><span class="line">		<span class="comment">// find end of next word</span></span><br><span class="line">		iter j = <span class="built_in">find_if</span>(i, str.<span class="built_in">end</span>(), space);</span><br><span class="line"></span><br><span class="line">		<span class="comment">// copy the characters in `[i,&#x27; `j)&#x27;</span></span><br><span class="line">		<span class="keyword">if</span> (i != str.<span class="built_in">end</span>())</span><br><span class="line">			ret.<span class="built_in">push_back</span>(<span class="built_in">string</span>(i, j));</span><br><span class="line">		i = j;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> ret;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="pass-an-overloaded-function-directly-as-an-argument-to-a-template-function">pass an overloaded function directly as an argument to a template function</h2>
<p>It's not easy to pass an overloaded function directly as an argument to a template function. The trouble is that the compiler doesn't know which version of the overloaded function we mean, because we haven't supplied any arguments that the compiler might use to select a version. Accordingly, we'll write our own predicates, called <strong>space</strong> and <strong>not_space</strong> , that make clear whichversion of <strong>isspace</strong> we intend.</p>
<p>more see <a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/25871381/c-overloaded-function-as-template-argument">C++ overloaded function as template argument</a></p>
<h2 id="is_palindrome">is_palindrome</h2>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">bool</span> <span class="title">is_palindrome</span><span class="params">(<span class="type">const</span> string&amp; s)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">equal</span>(s.<span class="built_in">begin</span>(), s.<span class="built_in">end</span>(), s.<span class="built_in">rbegin</span>());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="find-find_if-search">find find_if search</h2>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">bool</span> <span class="title">not_url_char</span><span class="params">(<span class="type">char</span> c)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// characters, in addition to alphanumerics, that can appear in a URL.</span></span><br><span class="line">    <span class="type">static</span> <span class="type">const</span> string url_ch = <span class="string">&quot;~;/?:@=&amp;$-_.+!*&#x27;(),&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// see whether c can appear in a URL and return the nagative</span></span><br><span class="line">    <span class="keyword">return</span> !(<span class="built_in">isalnum</span>(c) ||</span><br><span class="line">    <span class="built_in">find</span>(url_ch.<span class="built_in">begin</span>(), url_ch.<span class="built_in">end</span>(), c) != url_ch.<span class="built_in">end</span>());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">string::const_iterator <span class="title">url_end</span><span class="params">(string::const_iterator b, string::const_iterator e)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">find_if</span>(b, e, not_url_char);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">string::const_iterator <span class="title">url_beg</span><span class="params">(string::const_iterator b, string::const_iterator e)</span> </span>&#123;</span><br><span class="line">    <span class="type">static</span> <span class="type">const</span> string sep = <span class="string">&quot;://&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">typedef</span> string::const_iterator iter;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// i marks where the separatorwas found</span></span><br><span class="line">    iter i = b;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> ((i = <span class="built_in">search</span>(i, e, sep.<span class="built_in">begin</span>(), sep.<span class="built_in">end</span>())) != e) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// make sure the separator isn&#x27;t at the beginning or end of the line</span></span><br><span class="line">        <span class="keyword">if</span> (i != b &amp;&amp; i + sep.<span class="built_in">size</span>() != e) &#123;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// beg marks the beginning of the protocol-name</span></span><br><span class="line">            iter beg = i;</span><br><span class="line">            <span class="keyword">while</span> (beg != b &amp;&amp; <span class="built_in">isalpha</span>(beg[<span class="number">-1</span>])) &#123;</span><br><span class="line">                beg --;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// is there at least one appreciate character before and after the sep</span></span><br><span class="line">            <span class="keyword">if</span> (beg != i &amp;&amp; !<span class="built_in">not_url_char</span>(i[sep.<span class="built_in">size</span>()])) &#123;</span><br><span class="line">                <span class="keyword">return</span> beg;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// the separator we found wasn&#x27;t part of a URL advance i past this separator</span></span><br><span class="line">        i += sep.<span class="built_in">size</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> e;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">vector&lt;string&gt; <span class="title">find_urls</span><span class="params">(<span class="type">const</span> string&amp; s)</span> </span>&#123;</span><br><span class="line">    vector&lt;string&gt; ret;</span><br><span class="line">    <span class="keyword">typedef</span> string::const_iterator iter;</span><br><span class="line">    iter b = s.<span class="built_in">begin</span>(), e = s.<span class="built_in">end</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// look through the entire input</span></span><br><span class="line">    <span class="keyword">while</span> (b != e) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// look for one or more letters followed by ://</span></span><br><span class="line">        b = <span class="built_in">url_beg</span>(b, e);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// if we found it</span></span><br><span class="line">        <span class="keyword">if</span> (b != e) &#123;</span><br><span class="line">            <span class="comment">// get the rest of the URL</span></span><br><span class="line">            iter after = <span class="built_in">url_end</span>(b, e);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// remember the URL</span></span><br><span class="line">            ret.<span class="built_in">push_back</span>(<span class="built_in">string</span>(b, after));</span><br><span class="line"></span><br><span class="line">            <span class="comment">// advance b and check for more URLs on this line</span></span><br><span class="line">            b = after;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ret;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="empty-instead-of-size">empty instead of size</h2>
<p>It is a better idea to use this function to check for an emptycontainer than it is to compare the <strong>size</strong> with 0, because for some kinds of containers, itmight be more efficient to check whether the container has any elements than to figure outexactly how many elements there are.</p>
<p>more see <a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/43500633/what-is-the-most-efficient-way-to-check-if-a-c-container-is-empty">What is the most efficient way to check if a C++ container is empty?</a></p>
<h2 id="transform">transform</h2>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">double</span> <span class="title">grade_aux</span><span class="params">(<span class="type">const</span> Student_indo&amp; s)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">grade</span>(s);</span><br><span class="line">    &#125; <span class="built_in">catch</span> (domain_error) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">grade</span>(s.midterm, s.<span class="keyword">final</span>, <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// this version works fine</span></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">median_analysis</span><span class="params">(<span class="type">const</span> vector&lt;Student_info&gt;&amp; students)</span> </span>&#123;</span><br><span class="line">    vector&lt;<span class="type">double</span>&gt; grades;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">transform</span>(students.<span class="built_in">begin</span>(), students.<span class="built_in">end</span>(),</span><br><span class="line">            <span class="built_in">back_inserter</span>(grades), grade_aux);</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">median</span>(grades);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="accumulatein">accumulate(in <numeric>)</h2>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">double</span> <span class="title">average</span><span class="params">(<span class="type">const</span> vector&lt;<span class="type">double</span>&gt;&amp; v)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">accumulate</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="number">0.0</span>) / v.<span class="built_in">size</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>string connection</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;string&gt; words;</span><br><span class="line">words.<span class="built_in">push_back</span>(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line"><span class="comment">// init words with some strings</span></span><br><span class="line"></span><br><span class="line">string concatenated_words = <span class="built_in">accumulate</span>(words.<span class="built_in">begin</span>(), words.<span class="built_in">end</span>(), <span class="built_in">string</span>());</span><br></pre></td></tr></table></figure>
<h2 id="remove_copycopy-like-remove">remove_copy(copy like "remove")</h2>
<p>Copies elements from the range [first, last), to another range beginning at d_first, omitting the elements which satisfy specific criteria. Source and destination ranges cannot overlap.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// median of the nonzero elements of s.homework, or 0 if no such elements exist</span></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">optimistic_median</span><span class="params">(<span class="type">const</span> Student_info&amp; s)</span> </span>&#123;</span><br><span class="line">    vector&lt;<span class="type">double</span>&gt; nonzero;</span><br><span class="line">    <span class="built_in">remove_copy</span>(s.homework.<span class="built_in">begin</span>(), s.homework.<span class="built_in">end</span>(),</span><br><span class="line">            <span class="built_in">back_inserter</span>(nonzero), <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (nonzero.<span class="built_in">empty</span>()) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">grade</span>(s.midterm, s.<span class="keyword">final</span>, <span class="number">0</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">grade</span>(s.midterm, s.<span class="keyword">final</span>, <span class="built_in">median</span>(nonzero));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="copy_if-vs-remove_copy_if">copy_if vs remove_copy_if</h2>
<p><code>copy_if</code> only copies elements satisfying a given predicate,</p>
<p><code>remove_copy_if</code> <strong>on the other hand</strong> copies only elements that <strong>do not</strong> satisfy a specified predicate.</p>
<p>Thus the two functions complement each other, they do not do the same.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// median of the nonzero elements of s.homework, or 0 if no such elements exist</span></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">optimistic_median</span><span class="params">(<span class="type">const</span> Student_info&amp; s)</span> </span>&#123;</span><br><span class="line">    vector&lt;<span class="type">double</span>&gt; nonzero;</span><br><span class="line">    <span class="built_in">copy_if</span>(s.homework.<span class="built_in">begin</span>(), s.homework.<span class="built_in">end</span>(),</span><br><span class="line">            <span class="built_in">back_inserter</span>(nonzero), [](<span class="type">double</span> x) &#123; <span class="keyword">return</span> x != <span class="number">0</span>; &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (nonzero.<span class="built_in">empty</span>()) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">grade</span>(s.midterm, s.<span class="keyword">final</span>, <span class="number">0</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">grade</span>(s.midterm, s.<span class="keyword">final</span>, <span class="built_in">median</span>(nonzero));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="remove_if">remove_if</h2>
<p>Removes all elements satisfying specific criteria from the range [first, last) and <strong>returns a past-the-end iterator for the new end of the range</strong>.(The elements are actually removed, but the physical size of the container is not changed, which causes the elements to be "lost".)</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">vector&lt;Student_info&gt;</span></span><br><span class="line"><span class="function"><span class="title">extract_fails</span><span class="params">(vector&lt;Student_info&gt;&amp; students)</span> </span>&#123;</span><br><span class="line">    vector&lt;Student_info&gt; fail;</span><br><span class="line">    <span class="built_in">remove_copy_if</span>(students.<span class="built_in">begin</span>(), students.<span class="built_in">end</span>(),</span><br><span class="line">            <span class="built_in">back_inserter</span>(fail), pgrade);</span><br><span class="line">    students.<span class="built_in">erase</span>(<span class="built_in">remove_if</span>(students.<span class="built_in">begin</span>(), students.<span class="built_in">end</span>(), fgrade),</span><br><span class="line">            students.<span class="built_in">end</span>());</span><br><span class="line">    <span class="keyword">return</span> fail;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="/images/remove_if01.png" alt="remove_if01.png" style="zoom:70%;" /> <img src="/images/remove_if02.png" alt="remove_if02.png" style="zoom:70%;" /></p>
<p>if call erase after remove_if, the elements will be removed from the container.</p>
<p><img src="/images/remove_if03.png" alt="remove_if03.png" style="zoom:70%;" /></p>
<h2 id="partition-and-stable_partition">partition and stable_partition</h2>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">vector&lt;Student_info&gt;</span></span><br><span class="line"><span class="function"><span class="title">extract_fails</span><span class="params">(vector&lt;Student_info&gt;&amp; students)</span> </span>&#123;</span><br><span class="line">    vector&lt;Student_info&gt; fail;</span><br><span class="line">    vector&lt;Student_info&gt;::iterator iter = <span class="built_in">stable_partition</span>(students.<span class="built_in">begin</span>(), students.<span class="built_in">end</span>(), pgrade);</span><br><span class="line">    <span class="function">vector&lt;Student_info&gt; <span class="title">fail</span><span class="params">(iter, students.end())</span></span>;</span><br><span class="line">    students.<span class="built_in">erase</span>(iter, students.<span class="built_in">end</span>());</span><br><span class="line">    <span class="keyword">return</span> fail;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="/images/partition01.png" alt="partition01.png" style="zoom:60%;" /></p>
<h2 id="algorithms-and-containers">Algorithms and containers</h2>
<p>There is a fact that is crucial to understand in using algorithms, iterators, and containers:</p>
<p><strong>Algorithms act on container elements—they do not act on containers.</strong></p>
<p>EX: remove_if is a generic function only move elements to new position, but does not change the size of the container.</p>
<p>erase is not a generic function, it is a member function of the container. erase changes the vector by removing the sequence indicated by its arguments</p>
<h2 id="iterators-and-container">iterators and container</h2>
<p>it is important to be aware of the interaction between iterators and algorithms, and between iterators and container operations.</p>
<p>EX: generic algorithms: iterators are invalidated by erase or insert operations on the container.</p>
<p>member functions: can move elements aroundwithin the container, will change which element is denoted by particular iterators. iterators are invalidated partition or remove_if operations on the container.</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/10/21/Linux/Linux-Shell-scripts-cookbook/Linux-Shell-scripts-cookbook-Shell-Something-Out/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="krmmzs">
      <meta itemprop="description" content="233">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="krmmzs">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/10/21/Linux/Linux-Shell-scripts-cookbook/Linux-Shell-scripts-cookbook-Shell-Something-Out/" class="post-title-link" itemprop="url">Linux_Shell_scripts_cookbook_Shell_Something_Out</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-10-21 18:50:46" itemprop="dateCreated datePublished" datetime="2022-10-21T18:50:46+08:00">2022-10-21</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-10-27 19:46:35" itemprop="dateModified" datetime="2022-10-27T19:46:35+08:00">2022-10-27</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Shell/" itemprop="url" rel="index"><span itemprop="name">Shell</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Shell/Linux-Shell-scripts-cookbook/" itemprop="url" rel="index"><span itemprop="name">Linux Shell scripts cookbook</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="shell-something-out">Shell Something Out</h1>
<h2 id="overview">Overview</h2>
<h2 id="displaying-output-in-a-terminal">Displaying output in a terminal</h2>
<p>使用echo和printf的命令选项时，要确保选项出现在命令中的所有字符串之前，否则Bash会将其视为另外一个字符串。</p>
<p>要打印彩色文本，可输入如下命令： <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> -e <span class="string">&quot;\e[1;31m This is red text \e[0m&quot;</span></span><br></pre></td></tr></table></figure></p>
<p>其中包括：重置=0，黑色=30，红色=31，绿色=32，黄色=33，蓝色=34，洋红=35，青色=36，白色=37。</p>
<h2 id="using-variables-and-environment-variables">Using variables and environment variables</h2>
<h4 id="get-pid">get PID</h4>
<p>我们可以使用pgrep命令获得gedit的进程ID： <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pgrep gedit 12501</span><br></pre></td></tr></table></figure></p>
<h4 id="check-out-the-environment-variables">check out the environment variables</h4>
<p>要想生成一份易读的报表，可以将cat命令的输出通过管道传给tr，将其中的\0替换成 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> /proc/12501/environ  | <span class="built_in">tr</span> <span class="string">&#x27;\0&#x27;</span> <span class="string">&#x27;\n&#x27;</span></span><br></pre></td></tr></table></figure></p>
<h4 id="add-environment-path">add environment path</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> PATH=<span class="string">&quot;<span class="variable">$PATH</span>:/home/username/bin&quot;</span></span><br></pre></td></tr></table></figure>
<h4 id="finding-the-length-of-a-string">Finding the length of a string</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var=123456</span><br><span class="line">length=<span class="variable">$&#123;#var&#125;</span></span><br><span class="line"><span class="built_in">echo</span> length</span><br></pre></td></tr></table></figure>
<h4 id="identifying-the-current-shell">Identifying the current shell</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="variable">$SHELL</span></span><br><span class="line"><span class="comment"># or</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$0</span></span><br></pre></td></tr></table></figure>
<h4 id="checking-for-super-user">Checking for super user</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> [ <span class="string">&quot;<span class="variable">$UID</span>&quot;</span> -ne 0 ]; <span class="keyword">then</span></span><br><span class="line">  <span class="built_in">echo</span> Non root user. Please run as root.</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">  <span class="built_in">echo</span> Root user</span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="built_in">test</span> <span class="variable">$UID</span> -ne 0; <span class="keyword">then</span></span><br><span class="line">  <span class="built_in">echo</span> Non root user. Please run as root.</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">  <span class="built_in">echo</span> Root user</span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>
<h2 id="function-to-prepend-to-environmentvariables">Function to prepend to environmentvariables</h2>
<p>我们可以在.bashrc文件中定义如下函数，简化路径添加操作： <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">prepend</span></span>() &#123; [ -d <span class="string">&quot;<span class="variable">$2</span>&quot;</span> ] &amp;&amp; <span class="built_in">eval</span> <span class="variable">$1</span>=\&quot;<span class="variable">$2</span>\$\&#123;<span class="variable">$1</span>:+<span class="string">&#x27;:&#x27;</span>\$<span class="variable">$1</span>\&#125;\&quot; &amp;&amp; <span class="built_in">export</span> <span class="variable">$1</span> ; &#125;</span><br></pre></td></tr></table></figure></p>
<p>usage: <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">prepend PATH /opt/myapp/bin</span><br><span class="line">prepend LD_LIBRARY_PATH /opt/myapp/lib</span><br></pre></td></tr></table></figure></p>
<h2 id="playing-with-file-descriptors-and-redirection">Playing with file descriptors and redirection</h2>
<h4 id="get-return-value-of-a-command">get return value of a command</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> $?</span><br></pre></td></tr></table></figure>
<h4 id="stderr-and-stdout-redirection">stderr and stdout redirection</h4>
<p>可以将stderr和stdout分别重定向到不同的文件中 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cmd 2&gt;stderr.txt 1&gt;stdout.txt</span><br></pre></td></tr></table></figure> 将stderr转换成stdout，使得stderr和stdout都被重定向到同一个文件中 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cmd 2&gt;&amp;1 alloutput.txt</span><br><span class="line"><span class="comment"># or</span></span><br><span class="line">cmd &amp;&gt; output.txt</span><br></pre></td></tr></table></figure></p>
<p>stdout作为单数据流（single stream），可以被重定向到文件或是通过管道传入其他程序，但是无法两者兼得。 有一种方法既可以将数据重定向到文件，还可以提供一份重定向数据的副本作为管道中后续命令的stdin。 tee命令从stdin中读取，然后将输入数据重定向到stdout以及一个或多个文件中。 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">command</span> | <span class="built_in">tee</span> FILE1 FILE2 | otherCommand</span><br></pre></td></tr></table></figure></p>
<p>在下面的代码中，tee命令接收到来自stdin的数据。它将stdout的一份副本写入文件out.txt，同时将另一份副本作为后续命令的stdin。命令cat -n为从stdin中接收到的每一行数据前加上行号并将其写入stdout： <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> a* | <span class="built_in">tee</span> out.txt | <span class="built_in">cat</span> -n</span><br></pre></td></tr></table></figure> out: <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span>: a1: Permission denied</span><br><span class="line">    1 A2</span><br><span class="line">    2 A3 </span><br></pre></td></tr></table></figure> 注意，cat: a1: Permission denied并没有在文件内容中出现， 因为这些信息被发送到了stderr，而tee只能从stdin中读取</p>
<p>追加： <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> a* | <span class="built_in">tee</span> -a out.txt | <span class="built_in">cat</span> –n</span><br></pre></td></tr></table></figure></p>
<h4 id="redirection-from-a-file-to-a-command">Redirection from a file to a command</h4>
<p>借助小于号（&lt;），我们可以像使用stdin那样从文件中读取数据 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cmd &lt; file</span><br></pre></td></tr></table></figure></p>
<h4 id="redirecting-from-a-text-block-enclosed-within-a-script">Redirecting from a text block enclosed within a script</h4>
<p>可以将脚本中的文本重定向到文件。要想将一条警告信息添加到自动生成的文件顶部 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="built_in">cat</span>&lt;&lt;<span class="string">EOF&gt;log.txt</span></span><br><span class="line"><span class="string">This is a generated file. Do not edit. Changes will be overwritten.</span></span><br><span class="line"><span class="string">EOF</span></span><br></pre></td></tr></table></figure></p>
<h4 id="custom-file-descriptors">Custom file descriptors</h4>
<p>创建一个用于读取文件的文件描述符： <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">exec</span> 3&lt;input.txt    <span class="comment">#使用文件描述符3打开并读取文件</span></span><br></pre></td></tr></table></figure> usage: <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> this is a <span class="built_in">test</span> line &gt; input.txt </span><br><span class="line"><span class="built_in">exec</span> 3&lt;input.txt</span><br></pre></td></tr></table></figure></p>
<p>创建一个用于写入（截断模式）的文件描述符： <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">exec</span> 4&gt;output.txt   <span class="comment">#打开文件进行写入</span></span><br></pre></td></tr></table></figure> usage: <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">exec</span> 4&gt;output.txt </span><br><span class="line">$ <span class="built_in">echo</span> newline &gt;&amp;4 </span><br><span class="line">$ <span class="built_in">cat</span> output.txt</span><br><span class="line">newline</span><br></pre></td></tr></table></figure> 创建一个用于写入（追加模式）的文件描述符： <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">exec</span> 5&gt;&gt;input.txt   <span class="comment">#打开文件进行追加</span></span><br></pre></td></tr></table></figure> usage: <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">exec</span> 5&gt;&gt;input.txt</span><br><span class="line">$ <span class="built_in">echo</span> appended line &gt;&amp;5</span><br><span class="line">$ <span class="built_in">cat</span> input.txt</span><br><span class="line">newline</span><br><span class="line">append line</span><br></pre></td></tr></table></figure></p>
<h2 id="alias">alias</h2>
<h4 id="sudo-alias">sudo alias</h4>
<p>如果身份为特权用户，别名也会造成安全问题。为了避免对系统造成危害，你应该将命令转义</p>
<ol type="1">
<li>对别名进行转义</li>
</ol>
<p>创建一个和原生命令同名的别名很容易，你不应该以特权用户的身份运行别名化的命令。 我们可以转义要使用的命令，忽略当前定义的别名：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ \<span class="built_in">command</span></span><br></pre></td></tr></table></figure>
<p>字符，从而执行原本的命令。 在不可信环境下执行特权命令时，在命令前加上。 这是因为攻击者可能已经将一些别有用心的命令利用别名伪装成了特权命令，借此来盗取用户输入的重要信息。</p>
<h4 id="show-all-of-the-aliases">show all of the aliases</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">alias</span></span><br></pre></td></tr></table></figure>
<h2 id="debugging-the-script">Debugging the script</h2>
<p>我们可以利用Bash内建的调试工具或者按照易于调试的方式编写脚本，方法如下所示。</p>
<ol type="1">
<li>使用选项-x，启用shell脚本的跟踪调试功能：</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash -x script.sh</span><br></pre></td></tr></table></figure>
<ol start="2" type="1">
<li>使用set -x和set +x对脚本进行部分调试。例如：</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> &#123;1..6&#125;;</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="built_in">set</span> -x</span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$i</span></span><br><span class="line">    <span class="built_in">set</span> +x</span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Script executed&quot;</span></span><br></pre></td></tr></table></figure>
<ol start="3" type="1">
<li>前面介绍的调试方法是Bash内建的。 它们以固定的格式生成调试信息。 但是在很多情况下，我们需要使用自定义的调试信息。 可以通过定义_DEBUG环境变量来启用或禁止调试及生成特定形式的信息。</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">DEBUG</span></span>()</span><br><span class="line">&#123;</span><br><span class="line">    [ <span class="string">&quot;<span class="variable">$_DEBUG</span>&quot;</span> == <span class="string">&quot;on&quot;</span> ] &amp;&amp; <span class="variable">$@</span> || :</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> &#123;1..10&#125;</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    DEBUG <span class="built_in">echo</span> <span class="variable">$i</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ _DEBUG=on ./script.sh</span><br></pre></td></tr></table></figure>
<p>我们在每一条需要打印调试信息的语句前加上DEBUG。如果没有把_DEBUG=on传递给脚本，那么调试信息就不会打印出来。在Bash中，命令:告诉shell不要进行任何操作。</p>
<p>调试的输出信息可能会很长。如果使用了-x或set -x，调试输出会被发送到stderr。可以使用下面的命令将其重定向到文件中：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash -x script.sh 2&gt; debug.log</span><br></pre></td></tr></table></figure>
<h4 id="exporting-functions">Exporting functions</h4>
<p>函数也能像环境变量一样用export导出，如此一来，函数的作用域就可以扩展到子进程中： <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> -f fname</span><br><span class="line">$&gt; <span class="keyword">function</span> <span class="function"><span class="title">getIP</span></span>() &#123; /sbin/ifconfig <span class="variable">$1</span> | grep <span class="string">&#x27;inet &#x27;</span>; &#125;$&gt; <span class="built_in">echo</span> <span class="string">&quot;getIP eth0&quot;</span> &gt;test.sh$&gt; sh test.sh  sh: getIP: No such file or directory$&gt; <span class="built_in">export</span> -f getIP$&gt; sh test.sh  inet addr: 192.168.1.2 Bcast: 192.168.255.255 Mask:255.255.0.0</span><br><span class="line">$&gt; <span class="built_in">echo</span> <span class="string">&quot;getIP eth0&quot;</span> &gt;test.sh</span><br><span class="line">$&gt; sh test.sh</span><br><span class="line">    sh: getIP: No such file or directory</span><br><span class="line">$&gt; <span class="built_in">export</span> -f getIP</span><br><span class="line">$&gt; sh test.sh</span><br><span class="line">    inet addr: 192.168.1.2 Bcast: 192.168.255.255 Mask:255.255.0.0</span><br></pre></td></tr></table></figure></p>
<h2 id="sending-output-from-one-command-toanother">Sending output from one command toanother</h2>
<h4 id="spawning-a-separate-process-with-subshell">Spawning a separate process with subshell</h4>
<p>子shell本身就是独立的进程。可以使用()操作符来定义一个子shell</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$&gt; <span class="built_in">pwd</span></span><br><span class="line">/</span><br><span class="line">$&gt;(<span class="built_in">cd</span> /bin; <span class="built_in">ls</span>)</span><br><span class="line">awk bash <span class="built_in">cat</span>...</span><br><span class="line">$&gt;<span class="built_in">pwd</span></span><br></pre></td></tr></table></figure>
<p>当命令在子shell中执行时，不会对当前shell造成任何影响；所有的改变仅限于该子shell内。 例如，当用cd命令改变子shell的当前目录时，这种变化不会反映到主shell环境中。</p>
<h2 id="running-a-command-until-it-succeeds">Running a command until it succeeds</h2>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">repeat</span></span>() &#123;</span><br><span class="line">    <span class="keyword">while</span> <span class="literal">true</span>; <span class="keyword">do</span></span><br><span class="line">        <span class="variable">$@</span> &amp;&amp; <span class="built_in">return</span></span><br><span class="line">        <span class="built_in">sleep</span> 1</span><br><span class="line">    <span class="keyword">done</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="a-faster-approach">A faster approach</h5>
<p>在大多数现代系统中，true是作为/bin中的一个二进制文件来实现的。这就意味着每执行一 次之前提到的while循环，shell就不得不生成一个进程。为了避免这种情况，可以使用shell的内 建命令:，该命令的退出状态总是为0：</p>
<h2 id="comparisons-and-tests">Comparisons and tests</h2>
<p>A tips</p>
<ul>
<li>[ condition ] &amp;&amp; action; # 如果condition为真，则执行action</li>
<li>[ condition ] || action; # 如果condition为假，则执行action</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[ <span class="variable">$var</span> -eq 0]</span><br></pre></td></tr></table></figure>
<ul>
<li>gt：大于</li>
<li>lt：小于</li>
<li>ge：大于等于</li>
<li>le：小于等于</li>
</ul>
<p>-a是逻辑与操作符，-o是逻辑或操作符。可以按照下面的方法结合多个条件进行测试：</p>
<ul>
<li>[ $var1 -ne 0 -a $var2 -gt 2 ] #使用逻辑与-a</li>
<li>[ $var1 -ne 0 -o $var2 -gt 2 ] #逻辑或-o</li>
</ul>
<p>文件系统相关测试</p>
<ul>
<li>[ -f $file_var ]：如果给定的变量包含正常的文件路径或文件名，则返回真</li>
<li>[ -x $var ]：如果给定的变量包含的文件可执行，则返回真</li>
<li>[ -d $var ]：如果给定的变量包含的是目录，则返回真</li>
<li>[ -e $var ]：如果给定的变量包含的文件存在，则返回真</li>
<li>[ -c $var ]：如果给定的变量包含的是一个字符设备文件的路径，则返回真</li>
<li>[ -b $var ]：如果给定的变量包含的是一个块设备文件的路径，则返回真</li>
<li>[ -w $var ]：如果给定的变量包含的文件可写，则返回真</li>
<li>[ -r $var ]：如果给定的变量包含的文件可读，则返回真</li>
<li>[ -L $var ]：如果给定的变量包含的是一个符号链接，则返回真</li>
</ul>
<h3 id="string-comparisons">String comparisons:</h3>
<p>进行字符串比较时，最好用双中括号，因为有时候采用单个中括号会产生错误。</p>
<p>注意，双中括号是Bash的一个扩展特性。如果出于性能考虑，使用ash或dash 来运行脚本，那么将无法使用该特性</p>
<h2 id="customizing-bash-with-configuration-files">Customizing bash with configuration files</h2>
<p>配置文件分为3类：登录时执行的、 启动交互式shell时执行的以及调用shell处理脚本文件时执行的</p>
<p>当用户登录shell时，会执行下列文件 ```bash</p>
<p>`/etc/profile, $HOME/.profile, $HOME/.bash_login, $HOME/.bash_profile /``</p>
<p>注意，如果你是通过图形化登录管理器登入的话，是不会执行/etc/profile</p>
<p><span class="math inline">\(HOME/.profile和\)</span>HOME/.bash_profile这3个文件的。这是因为图形化窗口管理器</p>
<p>并不会启动shell。当你打开终端窗口时才会创建shell，但这个shell也不是登录shell</p>
<p>如果.bash_profile或.bash_login文件存在，则不会去读取.profile文件。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/10/21/Linux/Shell/Top-Ten-One-Liners-from-CommandLineFu-Explained/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="krmmzs">
      <meta itemprop="description" content="233">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="krmmzs">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/10/21/Linux/Shell/Top-Ten-One-Liners-from-CommandLineFu-Explained/" class="post-title-link" itemprop="url">Top_Ten_One-Liners_from_CommandLineFu_Explained</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2022-10-21 14:37:44 / Modified: 16:15:36" itemprop="dateCreated datePublished" datetime="2022-10-21T14:37:44+08:00">2022-10-21</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Shell/" itemprop="url" rel="index"><span itemprop="name">Shell</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="top-ten-one-liners-from-commandlinefu-explained">Top Ten One-Liners from CommandLineFu Explained</h1>
<hr />
<p><img src="https://catonmat.net/wp-content/uploads/2010/03/commandlinefu-explained.jpg" alt="CommandLineFu Explained" />I love working in the shell. Mastery of shell lets you get things done in seconds, rather than minutes or hours, if you chose to write a program instead.</p>
<p>In this article I'd like to explain the <a target="_blank" rel="noopener" href="http://www.commandlinefu.com/commands/browse/sort-by-votes">top one-liners</a> from the <a target="_blank" rel="noopener" href="http://www.commandlinefu.com/">commandlinefu.com</a>. It's a user-driven website where people get to choose the best and most useful shell one-liners.</p>
<p>But before I do that, I want to take the opportunity and link to a few of my articles that I wrote some time ago on working efficiently in the command line:</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://catonmat.net/bash-vi-editing-mode-cheat-sheet">Working Efficiently in Bash (Part I).</a></li>
<li><a target="_blank" rel="noopener" href="https://catonmat.net/bash-emacs-editing-mode-cheat-sheet">Working Efficiently in Bash (Part II).</a></li>
<li><a target="_blank" rel="noopener" href="https://catonmat.net/the-definitive-guide-to-bash-command-line-history">The Definitive Guide to Bash Command Line History.</a></li>
<li><a target="_blank" rel="noopener" href="https://catonmat.net/set-operations-in-unix-shell">A fun article on Set Operations in the Shell.</a></li>
<li><a target="_blank" rel="noopener" href="https://catonmat.net/solving-google-treasure-hunt-prime-number-problem-four">Another fun article on Solving Google Treasure Hunt in the Shell.</a></li>
</ul>
<p>And now the explanation of top one-liners from commandlinefu.</p>
<h2 id="overview">Overview</h2>
<ul>
<li><a href="#1-run-the-last-command-as-root">Run the last command as root</a> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo !!</span><br></pre></td></tr></table></figure></li>
<li><a href="#2-serve-the-current-directory-at-httplocalhost8000">Serve the current directory at http://localhost:8000/</a> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -m http.server</span><br></pre></td></tr></table></figure></li>
<li><a href="#3-save-a-file-you-edited-in-vim-without-the-needed-permissions">Save a file you edited in vim without the needed permissions</a> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:w !sudo <span class="built_in">tee</span> %</span><br></pre></td></tr></table></figure></li>
<li><a href="#4-change-to-the-previous-working-directory">Change to the previous working directory</a> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> -</span><br></pre></td></tr></table></figure></li>
<li><a href="#5-run-the-previous-shell-command-but-replace-string-foo-with-bar">Run the previous shell command but replace string "foo" with "bar"</a> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">^foo^bar^</span><br></pre></td></tr></table></figure></li>
<li><a href="#6-quickly-backup-or-copy-a-file">Quickly backup or copy a file</a> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cp</span> file&#123;,.bak&#125;</span><br></pre></td></tr></table></figure></li>
<li><a href="#8-find-the-last-command-that-begins-with-whatever-but-avoid-running-it">Find the last command that begins with</a> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">!whatever:p</span><br></pre></td></tr></table></figure></li>
<li><a href="#9-copy-your-public-key-to-remote-machine-for-public-key-authentication">Copy your public-key to remote-machine for public-key authentication</a> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-copy-id remote-machine</span><br></pre></td></tr></table></figure></li>
<li><a href="#10-capture-video-of-a-linux-desktop">Capture video of a linux desktop</a> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -f x11grab -s wxga -r 25 -i :0.0 -sameq output.avi</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="run-the-last-command-as-root">#1. Run the last command as root</h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo !!</span><br></pre></td></tr></table></figure>
<p>We all know what the <code>sudo</code> command does - it runs the command as another user, in this case, it runs the command as superuser because no other user was specified. But what's really interesting is the bang-bang <code>!!</code> part of the command. It's called the <strong>event designator</strong>. An event designator references a command in shell's history. In this case the event designator references the previous command. Writing <code>!!</code> is the same as writing <code>!-1</code>. The <code>-1</code> refers to the last command. You can generalize it, and write <code>!-n</code> to refer to the n-th previous command. To view all your previous commands, type <code>history</code>.</p>
<p>This one-liner is actually really bash-specific, as event designators are a feature of bash.</p>
<p>I wrote about event designators in much more detail in my article "<a target="_blank" rel="noopener" href="https://catonmat.net/the-definitive-guide-to-bash-command-line-history">The Definitive Guide to Bash Command Line History</a>." The article also comes with a printable cheat sheet for working with the history.</p>
<h2 id="serve-the-current-directory-at-httplocalhost8000">#2. Serve the current directory at http://localhost:8000/</h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ python -m http.server</span><br></pre></td></tr></table></figure>
<p>This one-liner starts a web server on port 8000 with the contents of current directory on all the interfaces (address 0.0.0.0), not just localhost. If you have "<code>index.html</code>" or "<code>index.htm</code>" files, it will serve those, otherwise it will list the contents of the currently working directory.</p>
<p>It works because python comes with a standard module called <code>SimpleHTTPServer</code>. The <code>-m</code> argument makes python to search for a module named <code>SimpleHTTPServer.py</code> in all the possible system locations (listed in <code>sys.path</code> and <code>$PYTHONPATH</code> shell variable). Once found, it executes it as a script. If you look at the source code of this module, you'll find that this module tests if it's run as a script <code>if **name** == '**main**'</code>, and if it is, it runs the <code>test()</code> method that makes it run a web server in the current directory.</p>
<p>To use a different port, specify it as the next argument:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ python -m http.server 8080</span><br></pre></td></tr></table></figure>
<p>This command runs a HTTP server on all local interfaces on port 8080.</p>
<h2 id="save-a-file-you-edited-in-vim-without-the-needed-permissions">#3. Save a file you edited in vim without the needed permissions</h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:w !sudo tee %</span><br></pre></td></tr></table></figure>
<p>This happens to me way too often. I open a system config file in vim and edit it just to find out that I don't have permissions to save it. This one-liner saves the day. Instead of writing the while to a temporary file <code>:w /tmp/foobar</code> and then moving the temporary file to the right destination <code>mv /tmp/foobar /etc/service.conf</code>, you now just type the one-liner above in vim and it will save the file.</p>
<p>Here is how it works, if you look at the vim documentation (by typing <code>:he :w</code> in vim), you'll find the reference to the command <code>:w !&#123;cmd&#125;</code> that says that vim runs <code>&#123;cmd&#125;</code> and passes it the contents of the file as standard input. In this one-liner the <code>&#123;cmd&#125;</code> part is the <code>sudo tee %</code> command. It runs <code>tee %</code> as superuser. But wait, what is <code>%</code>? Well, it's a read-only register in vim that contains the filename of the current file! Therefore the command that vim executes becomes <code>tee current_filename</code>, with the current directory being whatever the <code>current_file</code> is in. Now what does <code>tee</code> do? The <code>tee</code> command takes standard input and write it to a file! Rephrasing, it takes the contents of the file edited in vim, and writes it to the file (while being root)! All done!</p>
<h2 id="change-to-the-previous-working-directory">#4. Change to the previous working directory</h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ cd -</span><br></pre></td></tr></table></figure>
<p>Everyone knows this, right? The dash "<code>-</code>" is short for "previous working directory." The previous working directory is defined by <code>$OLDPWD</code> shell variable. After you use the <code>cd</code> command, it sets the <code>$OLDPWD</code> environment variable, and then, if you type the short version <code>cd -</code>, it effectively becomes <code>cd $OLDPWD</code> and changes to the previous directory.</p>
<p>To change to a directory named "<code>-</code>", you have to either cd to the parent directory and then do <code>cd ./-</code> or do <code>cd /full/path/to/-</code>.</p>
<h2 id="run-the-previous-shell-command-but-replace-string-foo-with-bar">#5. Run the previous shell command but replace string "foo" with "bar"</h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ^foo^bar^</span><br></pre></td></tr></table></figure>
<p>This is another event designator. This one is for quick substitution. It replaces <code>foo</code> with <code>bar</code> and repeats the last command. It's actually a shortcut for <code>!!:s/foo/bar/</code>. This one-liner applies the <code>s</code> modifier to the <code>!!</code> event designator. As we learned from one-liner #1, the <code>!!</code> event designator stands for the previous command. Now the <code>s</code> modifier stands for substitute (greetings to <a target="_blank" rel="noopener" href="https://catonmat.net/sed-one-liners-explained-part-one">sed</a>) and it substitutes the first word with the second word.</p>
<p>Note that this one-liner replaces just the first word in the previous command. To replace all words, add the <code>g</code> modifer (<code>g</code> for global):</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ !!:gs/foo/bar</span><br></pre></td></tr></table></figure>
<p>This one-liner is also bash-specific, as event designators are a feature of bash.</p>
<p>Again, see my article "<a target="_blank" rel="noopener" href="https://catonmat.net/the-definitive-guide-to-bash-command-line-history">The Definitive Guide to Bash Command Line History</a>." I explain all this stuff in great detail.</p>
<h2 id="quickly-backup-or-copy-a-file">#6. Quickly backup or copy a file</h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ cp filename&#123;,.bak&#125;</span><br></pre></td></tr></table></figure>
<p>This one-liner copies the file named <code>filename</code> to a file named <code>filename.bak</code>. Here is how it works. It uses <strong>brace expansion</strong> to construct a list of arguments for the <code>cp</code> command. Brace expansion is a mechanism by which arbitrary strings may be generated. In this one-liner <code>filename&#123;,.bak&#125;</code> gets brace expanded to <code>filename filename.bak</code> and puts in place of the brace expression. The command becomes <code>cp filename filename.bak</code> and file gets copied.</p>
<p>Talking more about brace expansion, you can do all kinds of combinatorics with it. Here is a fun application:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ echo &#123;a,b,c&#125;&#123;a,b,c&#125;&#123;a,b,c&#125;</span><br></pre></td></tr></table></figure>
<p>It generates all the possible strings 3-letter from the set <code>&#123;a, b, c&#125;</code>:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">aaa aab aac aba abb abc aca acb acc</span><br><span class="line">baa bab bac bba bbb bbc bca bcb bcc</span><br><span class="line">caa cab cac cba cbb cbc cca ccb ccc</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>And here is how to generate all the possible 2-letter strings from the set of <code>&#123;a, b, c&#125;</code>:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ echo &#123;a,b,c&#125;&#123;a,b,c&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>It produces:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">aa ab ac ba bb bc ca cb cc</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>If you liked this, you may also like my article where I defined a bunch of set operations (such as intersection, union, symmetry, powerset, etc) by using just shell commands. The article is called "<a target="_blank" rel="noopener" href="https://catonmat.net/set-operations-in-unix-shell">Set Operations in the Unix Shell</a>." (And since I have sets in the shell, I will soon write articles on on "<strong>Combinatorics in the Shell</strong>" and "<strong>Algebra in the Shell</strong>". Fun topics to explore. Perhaps even "Topology in the Shell" :))</p>
<h2 id="mtr---traceroute-and-ping-combined">#7. mtr - traceroute and ping combined</h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ mtr google.com</span><br></pre></td></tr></table></figure>
<p>MTR, bettern known as "Matt's Traceroute" combines both <code>traceroute</code> and <code>ping</code> command. After each successful hop, it sends a ping request to the found machine, this way it produces output of both <code>traceroute</code> and <code>ping</code> to better understand the quality of link. If it finds out a packet took an alternative route, it displays it, and by default it keeps updating the statistics so you knew what was going on in real time.</p>
<h2 id="find-the-last-command-that-begins-with-whatever-but-avoid-running-it">#8. Find the last command that begins with "whatever," but avoid running it</h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ !whatever:p</span><br></pre></td></tr></table></figure>
<p>Another use of event designators. The <code>!whatever</code> designator searches the shell history for the most recently executed command that starts with <code>whatever</code>. But instead of executing it, it prints it. The <code>:p</code> modifier makes it print instead of executing.</p>
<p>This one-liner is bash-specific, as event designators are a feature of bash.</p>
<p>Once again, see my article "<a target="_blank" rel="noopener" href="https://catonmat.net/the-definitive-guide-to-bash-command-line-history">The Definitive Guide to Bash Command Line History</a>." I explain all this stuff in great detail.</p>
<h2 id="copy-your-public-key-to-remote-machine-for-public-key-authentication">#9. Copy your public-key to remote-machine for public-key authentication</h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ssh-copy-id remote-machine</span><br></pre></td></tr></table></figure>
<p>This one-liner copies your public-key, that you generated with <code>ssh-keygen</code> (either SSHv1 file identity.pub or SSHv2 file id_rsa.pub) to the <code>remote-machine</code> and places it in <code>~/.ssh/authorized_keys</code> file. This ensures that the next time you try to log into that machine, public-key authentication (commonly referred to as "passwordless authentication.") will be used instead of the regular password authentication.</p>
<p>If you wanted to do it yourself, you'd have to take the following steps:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">your-machine$ scp ~/.ssh/identity.pub remote-machine:</span><br><span class="line">your-machine$ ssh remote-machine</span><br><span class="line">remote-machine$ cat identity.pub &gt;&gt; ~/.ssh/authorized_keys</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>This one-liner saves a great deal of typing. Actually I just found out that there was a shorter way to do it:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">your-machine$ ssh remote-machine &#x27;cat &gt;&gt; .ssh/authorized_keys&#x27; &lt; .ssh/identity.pub</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="capture-video-of-a-linux-desktop">#10. Capture video of a linux desktop</h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ffmpeg -f x11grab -s wxga -r 25 -i :0.0 -sameq /tmp/out.mpg</span><br></pre></td></tr></table></figure>
<p>A pure coincidence, I have done so much video processing with ffmpeg that I know what most of this command does without looking much in the manual.</p>
<p>The ffmpeg generally can be descibed as a command that takes a bunch of options and the last option is the output file. In this case the options are <code>-f x11grab -s wxga -r 25 -i :0.0 -sameq</code> and the output file is <code>/tmp/out.mpg</code>.</p>
<p>Here is what the options mean:</p>
<ul>
<li><code>-f x11grab</code> makes ffmpeg to set the input video format as x11grab. The X11 framebuffer has a specific format it presents data in and it makes ffmpeg to decode it correctly.</li>
<li><code>-s wxga</code> makes ffmpeg to set the size of the video to wxga which is shortcut for 1366x768. This is a strange resolution to use, I'd just write <code>-s 800x600</code>.</li>
<li><code>-r 25</code> sets the framerate of the video to 25fps.</li>
<li><code>-i :0.0</code> sets the video input file to X11 display 0.0 at localhost.</li>
<li><code>-sameq</code> preserves the quality of input stream. It's best to preserve the quality and post-process it later.</li>
</ul>
<p>You can also specify ffmpeg to grab display from another x-server by changing the <code>-i :0.0</code> to <code>-i host:0.0</code>.</p>
<p>If you're interested in ffmpeg, here are my other articles on ffmpeg that I wrote while ago:</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://catonmat.net/how-to-extract-audio-tracks-from-youtube-videos">How to Extract Audio Tracks from YouTube Videos</a></li>
<li><a target="_blank" rel="noopener" href="https://catonmat.net/converting-youtube-flvs-to-a-better-format-with-ffmpeg">Converting YouTube Flash Videos to a Better Format with ffmpeg</a></li>
</ul>
<h2 id="references">References</h2>
<ul>
<li><a target="_blank" rel="noopener" href="https://catonmat.net/top-ten-one-liners-from-commandlinefu-explained">Top Ten One-Liners from CommandLineFu Explained</a></li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/10/20/Anime/Do-It-Yourself/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="krmmzs">
      <meta itemprop="description" content="233">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="krmmzs">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/10/20/Anime/Do-It-Yourself/" class="post-title-link" itemprop="url">Do_It_Yourself</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2022-10-20 20:58:20 / Modified: 22:07:49" itemprop="dateCreated datePublished" datetime="2022-10-20T20:58:20+08:00">2022-10-20</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Anime/" itemprop="url" rel="index"><span itemprop="name">Anime</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Anime/Do-It-Yourself/" itemprop="url" rel="index"><span itemprop="name">Do It Yourself</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="do-it-yourself">Do It Yourself</h1>
<h2 id="overview">Overview</h2>
<h2 id="resources">Resources</h2>
<p><a target="_blank" rel="noopener" href="https://www.diy-anime.com/">Official Website</a> <a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/Do_It_Yourself!!">WIKI</a></p>
<h2 id="stuffs">Stuffs</h2>
<h3 id="caulk-填缝剂">Caulk 填缝剂</h3>
<p>填缝剂或不太常用的填缝剂是一种用于密封各种结构和管道的接头或接缝以防止泄漏的材料。</p>
<p>最古老的填缝剂形式是将纤维材料打入木船或船舶的木板之间的楔形接缝。铸铁污水管以前也是以类似的方式进行填缝的。船只和锅炉的铆接缝以前是通过敲打金属来密封的</p>
<p>现代填缝剂是一种灵活的密封化合物，用于封闭建筑物和其他结构的缝隙，防止水、空气、灰尘和昆虫，或作为防火的一个组成部分。在隧道行业中，填缝是对分段式预制混凝土隧道的缝隙进行密封，通常使用混凝土。</p>
<p><img src="/images/Do-It-Yourself-01.png" alt="NameCheap01" style="zoom:30%;" /> <img src="/images/Do-It-Yourself-02.png" alt="NameCheap02" style="zoom:30%;" /> <img src="/images/Do-It-Yourself-03.png" alt="NameCheap03" style="zoom:30%;" /></p>
<h2 id="references">References</h2>
<p><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Caulk">Caulk</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/4/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><span class="page-number current">5</span><a class="page-number" href="/page/6/">6</a><a class="page-number" href="/page/7/">7</a><a class="extend next" rel="next" href="/page/6/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">krmmzs</p>
  <div class="site-description" itemprop="description">233</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">62</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">26</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">39</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/krmmzs" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;krmmzs" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:belliyan250@gmail.com" title="E-Mail → mailto:belliyan250@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.youtube.com/channel/UCh2c-Y0OmoDUfeZHomm_Llg" title="YouTube → https:&#x2F;&#x2F;www.youtube.com&#x2F;channel&#x2F;UCh2c-Y0OmoDUfeZHomm_Llg" rel="noopener" target="_blank"><i class="fab fa-youtube fa-fw"></i>YouTube</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://t.me/krmmzs" title="Telegram → https:&#x2F;&#x2F;t.me&#x2F;krmmzs" rel="noopener" target="_blank"><i class="fab fa-telegram fa-fw"></i>Telegram</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">krmmzs</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

  

</body>
</html>
